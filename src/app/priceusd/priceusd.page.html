<ion-content id="content" [scrollEvents]="true" (ionScroll)="logScrolling($event)" class="">
    <div>
        <div class="header-data green"
            style="min-height: 150px;max-height: 150px;border-radius: 0px 0px 35px 35px;margin-bottom: 50px;">
            <div style="min-height: 80px;display: flex;align-items: center;width: 100%;">
                <ion-row style="justify-content: space-between;width: 100%;padding: 0px 20px;">
                    <ion-col size="4" align="center" class="noPaddingMargin">
                        <div class="noPaddingMargin" (click)="gotoProfile()">
                            <p class="noPaddingMargin avatar">{{ userFirstName | uppercase }}</p>
                        </div>
                    </ion-col>
                    <ion-col size="4" align="center" style="align-self: center;">
                        <!-- <h3>Dashboard</h3> -->
                        <!-- <div *ngIf="restDays > 0">
                                <p *ngIf="restDays <= 10">
                                    {{restDays}} Days Left
                                </p>
                            </div> -->
                        <!-- <p>
                                <button (click)="showPaymentModel()" *ngIf="restDays < 0" style="color: #92b243; text-decoration: none; background: #fffbd6; padding: 5px; border-radius: 8px;">Subscribe Now</button>
                            </p> -->
                        <img src="../../assets/sntc_rice_logo.png" alt="" style="width: 90px;">
                    </ion-col>
                    <ion-col size="4" align="right" class="notification" style="align-self: center;">
                        <ion-icon class="noPaddingMargin" name="refresh-outline" (click)="refresh()"
                            style="font-size: 25px;color: #fff;margin-right: 20px !important;"></ion-icon>
                        <div *ngIf="isNotifAvailable == 'true' "
                            style="height: 10px;width: 10px;background-color: red;position: absolute;right: 5px;top: 5px;z-index: 99999;border-radius: 100px;">
                        </div>
                        <ion-icon class="noPaddingMargin" name="notifications" (click)="getNotications()"
                            style="font-size: 25px;color: #fff"></ion-icon>
                    </ion-col>

                </ion-row>
            </div>
            <!-- <ion-row class="ion-padding title-padding ">
                    <ion-col class="title" size="12">
                        
        
                    </ion-col>
                </ion-row> -->
            <ion-row class="ion-padding rice-gallery">
                <ion-col>
                    <ion-slides pager="false" [options]="slideOpts">
                        <ion-slide *ngFor="let slider of ImageGallerySlider" (click)="getGalleryData(slider.id)">
                            <div class="background-image">
                                <img src="{{ imagePrefix }}uploads/gallery/{{ slider.attachment }}" alt=""
                                    style="width: 65%;height: 65%;">
                            </div>
                        </ion-slide>
                    </ion-slides>
                    <ion-row>
                        <!-- <ion-col size="8" style="text-align: center;margin-top: 5px;text-align: right;">
                                <img src="../../assets/sntc_rice_logo.png" alt="" style="width: 100px;">
                            </ion-col> -->
                        <ion-col>

                            <!-- <ion-button (click)="tradeBack()" size="small"
                                    style="text-transform: inherit;background-color: #fffbd6;--background: #fffbd6;border-radius: 5px;">
                                    <p style="font-size: 11px;">trade</p>
                                </ion-button> -->
                            <!-- <ion-button (click)="BuyINR()" size="small" style="text-transform: inherit;background-color: #fffbd6;--background: #fffbd6;border-radius: 5px;">
                                    <p style="font-size: 11px;">Buy INR</p>
                                </ion-button> -->
                            <!-- <ion-button (click)="tradeINR()" size="small"
                                    style="text-transform: inherit;background-color: #fffbd6;--background: #fffbd6;border-radius: 5px;">
                                    <p style="font-size: 11px;">Trade INR</p>
                                </ion-button> -->
                            <!-- <ion-button (click)="sellerINR()" size="small"
                                    style="text-transform: inherit;background-color: #fffbd6;--background: #fffbd6;border-radius: 5px;">
                                    <p style="font-size: 11px;">INR seller</p>
                                </ion-button> -->

                        </ion-col>
                        <!-- <p style="padding: 0;margin: 0;text-align: center;width: 100%;color: #fffbd6;">Pull to refresh</p> -->
                    </ion-row>
                </ion-col>
            </ion-row>
        </div>


        <div class="convertButtonParent">
            <button (click)="changeAppType()"
                style="background: #92b243;border-radius: 27px;padding: 13px 30px;margin: 10px 0px">
                <p style="padding: 0px;margin:0px;font-family: 'Poppins-SemiBold';color: #fff;font-size: 14px;">Convert
                    to INR</p>
            </button>
        </div>


        <div class="otherbackground">
            <div *ngIf="lastupdatedDate != null" style="text-align: center;">
                <span style="font-size: 11px;">Last updated at: {{ lastupdatedDate }} (IST)</span>
            </div>

            <ion-row class="ion-padding title-padding " style="align-items: center;">
                <ion-col class="title" size="2">
                    <img style="width: 100%;float: left" src="./../../assets/img/1350px-Flag_of_India.svg.webp" alt=""
                        (click)="scroll('left','table-responsive-1')" class="righticon">
                </ion-col>

                <ion-col class="title" size="8" style="text-align: center;">
                    <h2 class="" style="font-size: 17px; padding: 3px 0px; font-family: 'Poppins-SemiBold'">
                        Indian Basmati Live Price
                    </h2>
                    <ion-row>
                        <p style="padding: 0;margin:0;width: 100%;font-size: 12px;">(All Prices are in USD PMT)</p>
                    </ion-row>
                </ion-col>
                <ion-col class="title" size="2">

                </ion-col>

                <!-- <ion-col class="title" size="2">
                    <img style="width: 40px;float: left;" src="./../../assets/img/1350px-Flag_of_India.svg.webp" alt="" (click)="scroll('left','table-responsive-1')" class="righticon">
                </ion-col> -->
            </ion-row>


            <ng-container *ngIf="listBasmatiStates == null">
                <div class="center">
                    <!-- <p>No item found</p> -->
                </div>
            </ng-container>

            <ng-container *ngIf="listBasmatiStates != null"
                style="padding-bottom: 20px;margin-bottom: 30px;width: 100%;">
                <ion-row class="table-row padd-5" [ngClass]="(height==true)?'height200':'heightAuto'"
                    style="padding: 0px;margin: 0px;">
                    <ion-col class="price-table dashboard" style="padding: 0px;margin: 0px;">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th class="sticky-col first-col left pl-10" style="width: 20%">
                                        <ng-container>
                                            <h6 class="black ricetype"
                                                style="font-size: 12px;font-family: 'Poppins-SemiBold';">Quality</h6>
                                        </ng-container>
                                    </th>
                                    <th class="sticky-col first-col left pl-10" style="width: 20%">
                                        <ng-container>
                                            <h4 class="black ricetype"
                                                style="font-size: 12px;font-family: 'Poppins-SemiBold';">Packing
                                                <ion-icon name="caret-down-outline"></ion-icon>
                                            </h4>
                                        </ng-container>
                                    </th>

                                    <th class="font-17 type-columns black" style="width: 20%">
                                        <ul class="table-filter">
                                            <li class="filter-content"
                                                style="font-size: 12px;font-family: 'Poppins-SemiBold';">
                                                FOB (FCL)<br>Mundra
                                            </li>
                                            <!-- <li class="filter">
                                            <ion-icon name="ellipsis-vertical-outline" (click)="openPopup(convertToLowerCase(basmatiPrice.key))"></ion-icon>
                                            <div class="popover" [id]="convertToLowerCase(basmatiPrice.key)">
                                                <ul>
                                                    <li>
                                                        <label for="price"> Last price
                                                        <input id="price" class="priceRadio" type="radio" name="radio" checked="checked" (click)="changeState(convertToLowerCase(basmatiPrice.key)+'_price')"></label>															
                                                    </li>
                                                    <li>
                                                        <label for="percentage"> Percentage 
                                                        <input id="percentage" type="radio" name="radio" (click)="changeState(convertToLowerCase(basmatiPrice.key)+'_percentage')"></label>
                                                    </li>
                                                </ul>
                                            </div>
                                        </li> -->
                                        </ul>
                                    </th>
                                    <th class="sticky-col first-col left font-17 type-columns black" style="width: 20%"
                                        (click)="openProfile()">
                                        <ul class="table-filter">
                                            <li class="filter-content"
                                                style="font-size: 12px;font-family: 'Poppins-SemiBold';">
                                                CIF (FCL)<br> {{defalutPort}}
                                            </li>
                                            <li style="align-self: center;">
                                                <ion-icon name="caret-down-outline"></ion-icon>
                                            </li>
                                        </ul>
                                    </th>
                                </tr>
                                <div class="popoverley" (click)="removePopover()"></div>
                            </thead>
                            <!-- <button id="getCurrentStatus" style="height: 1px;width: 1px;color: red;background: transparent;padding: 0;margin: 0;" (click)="getCurrentPaidStatus()" ></button> -->
                            <tbody class="priceusd">
                                <tr *ngFor="let basmati of listBasmatiStates" (click)="openQuality(basmati?.rice)">
                                    <td class="sticky-col bg-transparent first-col left pl-10">
                                        <p style="font-size: 16px; padding: 0px;margin: 0px;font-weight: bold;">
                                            {{basmati?.get_rice_quality?.quality}}
                                        </p>
                                        <p
                                            style="padding: 0px;margin: 0px;font-size: 12px;display: inline-block;max-width: min-content;">
                                            {{basmati?.get_rice_quality?.quality_name}}
                                        </p>
                                    </td>

                                    <td class="sticky-col bg-transparent first-col left pl-10"
                                        style="font-size: 12px !important;font-weight: bold;">
                                        50kg PP
                                    </td>
                                    <td class="type-columns">
                                        <!-- <div class="priceVal" style="font-size: 12px !important;">${{ ((riceVal.value[latestDateBasmati].min_price) / 74).toFixed(2) }} - {{ ((riceVal.value[latestDateBasmati].max_price) / 74).toFixed(2) }} </div>  -->
                                        <div class="priceVal" style="font-size: 12px !important; font-weight: bold;"
                                            [ngClass]="basmati?.color_status == 3 ? 'black-price' : ( basmati?.color_status == 2 ) ? 'red-price' :  (basmati?.color_status == 1)? 'green-price': '' ">
                                            ${{ basmati?.fobmin }}-{{ basmati?.fobmax }}</div>
                                    </td>

                                    <td class="type-columns">
                                        <!-- <div class="priceVal" style="font-size: 12px !important; font-weight: bold;" [ngClass]="basmati?.color_status == 3 ? 'black-price' : ( basmati?.color_status == 2 ) ? 'red-price' :  'green-price' ">${{ ((riceVal.value[latestDateBasmati].min_price) / 74).toFixed(2) }} - {{ ((riceVal.value[latestDateBasmati].max_price) / 74).toFixed(2) }} </div>  -->
                                        <div class="priceVal" style="font-size: 12px !important; font-weight: bold;"
                                            [ngClass]="basmati?.color_status == 3 ? 'black-price' : ( basmati?.color_status == 2 ) ? 'red-price' :  (basmati?.color_status == 1)? 'green-price': '' ">
                                            ${{ ((basmati?.fobmin) + defaultCIFPrice) }}-{{ (basmati?.fobmax +
                                            defaultCIFPrice) }} </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                    </ion-col>
                </ion-row>
                <ion-row style="justify-content: center;margin: 0 auto;width: 100%;z-index: 99999999;">
                    <button (click)="changeHeight()"
                        style="font-size: 35px;padding: 0;margin: 0;border-radius: 0px 0px 10px 10px;height: 35px;width: 100px;background-color: #92b243;">
                        <ion-icon *ngIf="(height == true)" name="chevron-down-outline"
                            style="background: #92b243;overflow: hidden;border-radius: 100px;font-size: 30px;padding: 0;margin: 0;border-radius: 100px;height: 35px;"></ion-icon>
                        <ion-icon *ngIf="(height != true)" name="chevron-up-outline"
                            style="background: #92b243;overflow: hidden;border-radius: 100px;font-size: 30px;padding: 0;margin: 0;border-radius: 100px;height: 35px;"></ion-icon>
                    </button>
                </ion-row>
            </ng-container>

            <div style="margin-top: 20px">
                <!-- <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
                    <ion-refresher-content>
                    </ion-refresher-content>
                </ion-refresher> -->
                <!-- non basmati -->
                <ion-row class="ion-padding title-padding ">
                    <ion-col class="title" size="2">
                        <img style="width: 100%;float: left" src="./../../assets/img/1350px-Flag_of_India.svg.webp"
                            alt="" (click)="scroll('left','table-responsive-1')" class="righticon">
                    </ion-col>
                    <ion-col class="title" size="10">
                        <h2 class="" style="font-size: 17px;float: left;padding: 3px 7px;font-weight: bold">
                            Indian Non-Basmati Live Price
                        </h2>
                    </ion-col>
                    <!-- <ion-col class="title" size="2">
                        <img style="width: 40px;float: left;" src="./../../assets/img/1350px-Flag_of_India.svg.webp" alt="" (click)="scroll('left','table-responsive-1')" class="righticon">
                    </ion-col> -->
                </ion-row>

                <ng-container *ngIf="listNONBasmatiStates == null">
                    <div class="center">
                        <!-- <p>No item found</p> -->
                    </div>
                </ng-container>

                <ng-container *ngIf="listNONBasmatiStates != null">
                    <ion-row class="ion-padding table-row padd-5" style="padding: 0px;margin: 0px;">
                        <ion-col class="price-table dashboard" style="padding: 0px;margin: 0px;">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th class="sticky-col first-col left pl-10" style="width: 20%">
                                            <ng-container>
                                                <h6 class="black ricetype" style="font-size: 12px;">Quality</h6>
                                            </ng-container>
                                        </th>
                                        <th class="sticky-col first-col left pl-10" style="width: 20%">
                                            <ng-container>
                                                <h4 class="black ricetype" style="font-size: 12px;">Packing <ion-icon
                                                        name="caret-down-outline"></ion-icon></h4>
                                            </ng-container>
                                        </th>

                                        <th class="font-17 type-columns black" style="width: 20%">
                                            <ul class="table-filter">
                                                <li class="filter-content" style="font-size: 12px;">
                                                    FOB (FCL)<br>Mundra
                                                </li>
                                                <!-- <li class="filter">
                                                    <ion-icon name="ellipsis-vertical-outline" (click)="openPopup(convertToLowerCase(basmatiPrice.key))"></ion-icon>
                                                    <div class="popover" [id]="convertToLowerCase(basmatiPrice.key)">
                                                        <ul>
                                                            <li>
                                                                <label for="price"> Last price
                                                                <input id="price" class="priceRadio" type="radio" name="radio" checked="checked" (click)="changeState(convertToLowerCase(basmatiPrice.key)+'_price')"></label>															
                                                            </li>
                                                            <li>
                                                                <label for="percentage"> Percentage 
                                                                <input id="percentage" type="radio" name="radio" (click)="changeState(convertToLowerCase(basmatiPrice.key)+'_percentage')"></label>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </li> -->
                                            </ul>
                                        </th>
                                        <th class="sticky-col first-col left pl-10 font-17 type-columns black"
                                            style="width: 20%">
                                            <ul class="table-filter">
                                                <li class="filter-content" style="font-size: 12px;">
                                                    CIF (FCL)<br> {{defalutPort}}
                                                </li>
                                                <li style="align-self: center;">
                                                    <ion-icon name="caret-down-outline"></ion-icon>
                                                </li>
                                            </ul>
                                        </th>
                                    </tr>
                                    <div class="popoverley" (click)="removePopover()"></div>
                                </thead>
                                <!-- <button id="getCurrentStatus" style="height: 1px;width: 1px;color: red;background: transparent;padding: 0;margin: 0;" (click)="getCurrentPaidStatus()" ></button> -->
                                <tbody>
                                    <tr *ngFor="let nonbasmati of listNONBasmatiStates"
                                        (click)="openQuality(nonbasmati?.rice)">
                                        <td class="sticky-col bg-transparent first-col left pl-10">
                                            <p style="font-size: 16px; padding: 0px;margin: 0px;font-weight: bold;">
                                                {{nonbasmati?.get_rice_quality.quality}}</p>
                                            <p
                                                style="padding: 0px;margin: 0px;font-size: 12px;display: inline-block;max-width: min-content;">
                                                {{nonbasmati?.get_rice_quality.quality_name}}</p>
                                        </td>

                                        <td class="sticky-col bg-transparent first-col left pl-10"
                                            style="font-size: 12px !important;font-weight: bold;">
                                            50kg PP
                                        </td>
                                        <td class="type-columns">
                                            <!-- <div class="priceVal" style="font-size: 12px !important;">${{ ((riceVal.value[latestDateBasmati].min_price) / 74).toFixed(2) }} - {{ ((riceVal.value[latestDateBasmati].max_price) / 74).toFixed(2) }} </div>  -->
                                            <div class="priceVal" style="font-size: 12px !important;"
                                                [ngClass]="nonbasmati?.color_status == 3 ? 'black-price' : ( nonbasmati?.color_status == 2 ) ? 'red-price' : (nonbasmati?.color_status == 1)? 'green-price': '' ">
                                                ${{ nonbasmati?.fobmin }}-{{ nonbasmati?.fobmax }} </div>
                                        </td>

                                        <td class="type-columns">
                                            <!-- <div class="priceVal" style="font-size: 12px !important;">${{ ((riceVal.value[latestDateBasmati].min_price) / 74).toFixed(2) }} - {{ ((riceVal.value[latestDateBasmati].max_price) / 74).toFixed(2) }} </div>  -->
                                            <div class="priceVal" style="font-size: 12px !important;"
                                                [ngClass]="nonbasmati?.color_status == 3 ? 'black-price' : ( nonbasmati?.color_status == 2 ) ? 'red-price' : (nonbasmati?.color_status == 1)? 'green-price': '' ">
                                                ${{ ((nonbasmati?.fobmin) + defaultCIFPrice) }}-{{ (nonbasmati?.fobmax +
                                                defaultCIFPrice) }}
                                                <!-- <ion-icon name="caret-down-outline"></ion-icon> -->
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>

                        </ion-col>
                    </ion-row>
                </ng-container>
            </div>

        </div>
    </div>
    <app-menu></app-menu>
</ion-content>